[gd_scene load_steps=24 format=3 uid="uid://dv4xkidmcyi4k"]

[ext_resource type="Script" uid="uid://bvum7luk40mft" path="res://main.gd" id="1_dg77c"]
[ext_resource type="Script" uid="uid://boe4rm0qcksye" path="res://addons/godot-xr-tools/staging/staging.gd" id="2_82xsv"]
[ext_resource type="PackedScene" uid="uid://ccxxjdxanad7i" path="res://Player.tscn" id="3_4c57u"]
[ext_resource type="Texture2D" uid="uid://et1u8y28sujq" path="res://images/AllSkyFree_Sky_EpicBlueSunset_Equirect.jpg" id="4_cegan"]
[ext_resource type="Texture2D" uid="uid://wqw2xmdoe8u4" path="res://images/cockshadow2.tres" id="6_vivmo"]
[ext_resource type="Script" uid="uid://cbnaj04x78dhl" path="res://goatcode/fire_flies.gd" id="9_2cqfq"]
[ext_resource type="PackedScene" uid="uid://qo7618ftcfpt" path="res://Tools/Chisel/Breakable.tscn" id="9_yaehf"]
[ext_resource type="PackedScene" uid="uid://btmit5ngynkqv" path="res://goatcode/fire_fly.tscn" id="10_yaehf"]
[ext_resource type="AudioStream" uid="uid://c8rfuvb3a80n5" path="res://sounds/Socapex - Evol Online SFX - Punches and hits/Socapex - Monster_Hurt.wav" id="11_074og"]
[ext_resource type="PackedScene" uid="uid://d4anpju2ry1ms" path="res://assets/scenes/enviroment/Enviroment.tscn" id="12_ycdy4"]
[ext_resource type="PackedScene" uid="uid://dbhbxx871gscn" path="res://Tools/Chisel/chisel.tscn" id="14_vivmo"]
[ext_resource type="PackedScene" uid="uid://k0td2wlrkn2" path="res://Tools/Chisel/hammer.tscn" id="15_yaehf"]
[ext_resource type="PackedScene" uid="uid://c88sum30u4txd" path="res://scenes/cockatrice.tscn" id="16_2cqfq"]

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_82xsv"]
panorama = ExtResource("4_cegan")

[sub_resource type="Sky" id="Sky_lquwl"]
sky_material = SubResource("PanoramaSkyMaterial_82xsv")

[sub_resource type="Environment" id="Environment_h2yge"]
background_mode = 2
background_energy_multiplier = 1.94
sky = SubResource("Sky_lquwl")
glow_intensity = 1.5
glow_blend_mode = 0
fog_enabled = true
fog_density = 0.007
fog_sky_affect = 0.353
fog_height = -1.0
fog_height_density = 0.2

[sub_resource type="PrismMesh" id="PrismMesh_yaehf"]
size = Vector3(0.1, 0.1, 0.1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_vivmo"]
albedo_color = Color(0.282823, 0.234381, 0.159332, 1)
metallic = 0.38

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_efxa6"]
shading_mode = 0
albedo_color = Color(1, 1, 0.0196078, 1)

[sub_resource type="CylinderMesh" id="CylinderMesh_dg77c"]
material = SubResource("StandardMaterial3D_efxa6")
top_radius = 0.02
bottom_radius = 0.02
height = 0.05

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ycdy4"]
transparency = 1
shading_mode = 0
albedo_color = Color(0.0823529, 0.0823529, 0.0823529, 0.929412)

[sub_resource type="CylinderMesh" id="CylinderMesh_w48qg"]
material = SubResource("StandardMaterial3D_ycdy4")
bottom_radius = 5.0
height = 6.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_w48qg"]
resource_name = "TreeInside"
cull_mode = 2
albedo_color = Color(0.724963, 0.432528, 0.212802, 1)
roughness = 0.909326

[node name="Main" type="Node3D"]
script = ExtResource("1_dg77c")
metadata/_custom_type_script = ExtResource("2_82xsv")

[node name="XROrigin3D" parent="." instance=ExtResource("3_4c57u")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.54034, 0)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_h2yge")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="WorldEnvironment"]
transform = Transform3D(0.915601, -0.0684536, 0.396218, -0.277589, 0.605284, 0.74604, -0.290894, -0.79306, 0.535197, 5.11836, 27.1998, -6.56419)
light_energy = 2.778
shadow_enabled = true

[node name="SpotLightIntoTree" type="SpotLight3D" parent="."]
transform = Transform3D(0.0897997, -0.51664, 0.851481, 0.344425, 0.818295, 0.46018, -0.934509, 0.251947, 0.251426, -2.49994, 13.5274, -50.9626)
visible = false
light_color = Color(0.67451, 1, 1, 1)
light_energy = 100.0
light_projector = ExtResource("6_vivmo")
shadow_enabled = true
spot_range = 20.0
spot_angle = 14.2247
spot_angle_attenuation = 0.0281641

[node name="FireFlies" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.553757, 1.35127, -2.05955)
script = ExtResource("9_2cqfq")

[node name="Timer" type="Timer" parent="FireFlies"]
wait_time = 2.0
autostart = true

[node name="FlyList" type="Node3D" parent="FireFlies"]

[node name="FireFly" parent="FireFlies/FlyList" instance=ExtResource("10_yaehf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.361655, 0)
flyvelocity = 10.02

[node name="BugSquelch" type="AudioStreamPlayer3D" parent="FireFlies"]
stream = ExtResource("11_074og")
volume_db = 15.294
pitch_scale = 1.73

[node name="Stump" type="CSGBox3D" parent="." groups=["chisable"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.24614, -0.010783, -2.24788)
use_collision = true
collision_layer = 24577
size = Vector3(1, 1.2, 1)

[node name="Breakable" parent="." instance=ExtResource("9_yaehf")]
transform = Transform3D(0.593194, 0, -0.805059, 0, 1, 0, 0.805059, 0, 0.593194, -2.70826, 0.581937, -1.81971)

[node name="DomiTools" type="Node3D" parent="."]

[node name="Chisel" parent="DomiTools" instance=ExtResource("14_vivmo")]
transform = Transform3D(0.934981, -0.354699, 0, 0.354699, 0.934981, 0, 0, 0, 1, -1.08531, 0.945827, -1.9544)

[node name="Hammer" parent="DomiTools" instance=ExtResource("15_yaehf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.4279, 0.949032, -1.89003)
collision_layer = 98308
collision_mask = 229383

[node name="InsideTreeStuff" type="Node3D" parent="."]
transform = Transform3D(1, 0, 2.98023e-08, 0, 1, 0, -2.98023e-08, 0, 1, -7.00771, 2.42495, -51.3526)

[node name="PosIntoTree" type="MeshInstance3D" parent="InsideTreeStuff"]
transform = Transform3D(0.965336, 0, 0.26101, 0, 1, 0, -0.26101, 0, 0.965336, 0, 0, 0)
mesh = SubResource("PrismMesh_yaehf")
skeleton = NodePath("")

[node name="Runecarve1" parent="InsideTreeStuff" instance=ExtResource("9_yaehf")]
transform = Transform3D(0.901303, 0.108223, 0.419452, -0.119218, 0.992868, -1.3438e-09, -0.416461, -0.0500062, 0.907777, 1.51141, 0.488745, -0.808151)

[node name="Toolshelf" type="CSGCombiner3D" parent="InsideTreeStuff"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.311392, -1.60554)
material_override = SubResource("StandardMaterial3D_vivmo")
use_collision = true

[node name="CSGBox3D" type="CSGBox3D" parent="InsideTreeStuff/Toolshelf"]
size = Vector3(1, 1.3, 1)

[node name="CandleLightConetree" type="OmniLight3D" parent="InsideTreeStuff"]
transform = Transform3D(1, -2.98023e-08, -5.96046e-08, 2.98023e-08, 1, 9.52912e-22, 5.96046e-08, -1.77636e-15, 1, -2.76683, 0.391654, 0.284069)
visible = false
light_color = Color(1, 1, 0.0784314, 1)
light_energy = 1.696
light_bake_mode = 1
omni_range = 6.0

[node name="MeshInstance3D" type="MeshInstance3D" parent="InsideTreeStuff/CandleLightConetree"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.073804, 0)
mesh = SubResource("CylinderMesh_dg77c")

[node name="Chisel" parent="InsideTreeStuff" instance=ExtResource("14_vivmo")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.1414, -1.26923)

[node name="Hammer" parent="InsideTreeStuff" instance=ExtResource("15_yaehf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.242774, 1.10994, -1.30636)

[node name="TreeHollowShadow" type="MeshInstance3D" parent="InsideTreeStuff"]
transform = Transform3D(1.79739, 0, 1.77636e-15, 0, 1.04605, 0, 0, 0, 0.961867, 0, -0.598935, -0.0569572)
mesh = SubResource("CylinderMesh_w48qg")

[node name="TreeDoorCover" type="CSGBox3D" parent="InsideTreeStuff"]
transform = Transform3D(0.970959, 9.46183e-09, 0.239245, -0.0759572, 0.948263, 0.308267, -0.226867, -0.317487, 0.920724, 0.930458, 0.429771, 3.14654)
visible = false
size = Vector3(5, 4, 1)
material = SubResource("StandardMaterial3D_w48qg")

[node name="World" type="Node3D" parent="."]

[node name="Enviroment" parent="World" instance=ExtResource("12_ycdy4")]

[node name="Terrain" parent="World/Enviroment" index="2"]
transform = Transform3D(0.999996, 8.70241e-05, -0.00278232, -9.14029e-05, 0.999999, -0.00156591, 0.00278218, 0.00156615, 0.999995, 0, 0, 0)

[node name="PosSpawnPoint" type="MeshInstance3D" parent="World"]
transform = Transform3D(0.952044, 0, 0.307108, 0, 1, 0, -0.35155, 0, 1.14704, -7.27831, -1.49794, 1.93332)
mesh = SubResource("PrismMesh_yaehf")
skeleton = NodePath("")

[node name="Cockatrice" parent="." instance=ExtResource("16_2cqfq")]
transform = Transform3D(-0.0644663, -0.256714, 0.964335, -0.119335, 0.961394, 0.247953, -0.990759, -0.0990943, -0.0926124, -2.96153, 4.28351, -47.5331)

[connection signal="timeout" from="FireFlies/Timer" to="FireFlies" method="_on_timer_timeout"]

[editable path="World/Enviroment"]
