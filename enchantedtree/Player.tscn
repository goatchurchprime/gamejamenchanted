[gd_scene load_steps=29 format=3 uid="uid://ccxxjdxanad7i"]

[ext_resource type="PackedScene" uid="uid://clc5dre31iskm" path="res://addons/godot-xr-tools/xr/start_xr.tscn" id="1_3tkgg"]
[ext_resource type="Script" uid="uid://disjsd7kfoopl" path="res://addons/godot-xr-tools/functions/movement_footstep.gd" id="1_jatw7"]
[ext_resource type="PackedScene" uid="uid://yrg5yt0yvc1q" path="res://addons/godot-xr-tools/hands/scenes/collision/collision_hand.tscn" id="2_l6ohk"]
[ext_resource type="Script" uid="uid://bklb11ac3gg68" path="res://addons/godot-xr-tools/audio/surface_audio_type.gd" id="2_rv870"]
[ext_resource type="PackedScene" uid="uid://wtpox7m5vu2b" path="res://addons/godot-xr-tools/effects/fade.tscn" id="3_d6rpx"]
[ext_resource type="AudioStream" uid="uid://dkoyjpgqoicu7" path="res://sounds/Fantozzi-footsteps/ogg/Fantozzi-SandR1.ogg" id="3_efikj"]
[ext_resource type="PackedScene" uid="uid://cy03d57iyrci" path="res://addons/godot-xr-tools/hands/scenes/highpoly/left_physics_hand.tscn" id="3_oudfo"]
[ext_resource type="PackedScene" uid="uid://bl2nuu3qhlb5k" path="res://addons/godot-xr-tools/functions/movement_direct.tscn" id="4_d6rpx"]
[ext_resource type="PackedScene" uid="uid://b4ysuy43poobf" path="res://addons/godot-xr-tools/functions/function_pickup.tscn" id="5_r3kul"]
[ext_resource type="PackedScene" uid="uid://xqimcf20s2jp" path="res://addons/godot-xr-tools/hands/scenes/lowpoly/right_fullglove_low.tscn" id="6_jatw7"]
[ext_resource type="PackedScene" uid="uid://b6bk2pj8vbj28" path="res://addons/godot-xr-tools/functions/movement_turn.tscn" id="7_rv870"]
[ext_resource type="PackedScene" uid="uid://c2q5phg8w08o" path="res://addons/godot-xr-tools/functions/movement_jump.tscn" id="8_efikj"]
[ext_resource type="PackedScene" uid="uid://ctltchlf2j2r4" path="res://addons/xr-simulator/XRSimulator.tscn" id="9_itxgx"]
[ext_resource type="PackedScene" uid="uid://diyu06cw06syv" path="res://addons/godot-xr-tools/player/player_body.tscn" id="10_cgsek"]
[ext_resource type="PackedScene" uid="uid://2h8mjimpo5ra" path="res://addons/xr-radialmenu/XRNodeAim.tscn" id="11_0pi4m"]
[ext_resource type="PackedScene" uid="uid://b228p8k6sonve" path="res://addons/godot-xr-tools/player/fade/fade_collision.tscn" id="12_l6ohk"]
[ext_resource type="PackedScene" path="res://addons/godot-xr-tools/desktop-support/movement_gravity_zones.tscn" id="17_rv870"]
[ext_resource type="PackedScene" uid="uid://kyhaogt0a4q8" path="res://addons/godot-xr-tools/functions/movement_flight.tscn" id="18_itxgx"]
[ext_resource type="PackedScene" uid="uid://cfa5gsol863rv" path="res://addons/godot-xr-tools/desktop-support/movement_desktop_flight.tscn" id="19_cgsek"]
[ext_resource type="AudioStream" uid="uid://d1xuioeuqt0fy" path="res://sounds/Socapex - Evol Online SFX - Punches and hits/Socapex - new_hits_5.wav" id="20_cgsek"]

[sub_resource type="Resource" id="Resource_jatw7"]
script = ExtResource("2_rv870")
name = ""
walk_sounds = Array[AudioStream]([ExtResource("3_efikj")])
walk_pitch_minimum = 0.8
walk_pitch_maximum = 1.2
metadata/_custom_type_script = ExtResource("2_rv870")

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_cgsek"]
animation = &"Grip"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_0pi4m"]
animation = &"Grip"

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_sg6sq"]
filter_enabled = true
filters = ["Armature/Skeleton3D:Little_Distal_L", "Armature/Skeleton3D:Little_Intermediate_L", "Armature/Skeleton3D:Little_Metacarpal_L", "Armature/Skeleton3D:Little_Proximal_L", "Armature/Skeleton3D:Middle_Distal_L", "Armature/Skeleton3D:Middle_Intermediate_L", "Armature/Skeleton3D:Middle_Metacarpal_L", "Armature/Skeleton3D:Middle_Proximal_L", "Armature/Skeleton3D:Ring_Distal_L", "Armature/Skeleton3D:Ring_Intermediate_L", "Armature/Skeleton3D:Ring_Metacarpal_L", "Armature/Skeleton3D:Ring_Proximal_L", "Armature/Skeleton3D:Thumb_Distal_L", "Armature/Skeleton3D:Thumb_Metacarpal_L", "Armature/Skeleton3D:Thumb_Proximal_L", "Armature/Skeleton:Little_Distal_L", "Armature/Skeleton:Little_Intermediate_L", "Armature/Skeleton:Little_Proximal_L", "Armature/Skeleton:Middle_Distal_L", "Armature/Skeleton:Middle_Intermediate_L", "Armature/Skeleton:Middle_Proximal_L", "Armature/Skeleton:Ring_Distal_L", "Armature/Skeleton:Ring_Intermediate_L", "Armature/Skeleton:Ring_Proximal_L", "Armature/Skeleton:Thumb_Distal_L", "Armature/Skeleton:Thumb_Proximal_L"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_h84ma"]
animation = &"Grip 5"

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_47wu6"]
filter_enabled = true
filters = ["Armature/Skeleton3D:Index_Distal_L", "Armature/Skeleton3D:Index_Intermediate_L", "Armature/Skeleton3D:Index_Metacarpal_L", "Armature/Skeleton3D:Index_Proximal_L", "Armature/Skeleton:Index_Distal_L", "Armature/Skeleton:Index_Intermediate_L", "Armature/Skeleton:Index_Proximal_L"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_2n1s8"]
graph_offset = Vector2(-536, 11)
nodes/ClosedHand1/node = SubResource("AnimationNodeAnimation_cgsek")
nodes/ClosedHand1/position = Vector2(-600, 300)
nodes/ClosedHand2/node = SubResource("AnimationNodeAnimation_0pi4m")
nodes/ClosedHand2/position = Vector2(-360, 300)
nodes/Grip/node = SubResource("AnimationNodeBlend2_sg6sq")
nodes/Grip/position = Vector2(0, 20)
nodes/OpenHand/node = SubResource("AnimationNodeAnimation_h84ma")
nodes/OpenHand/position = Vector2(-600, 100)
nodes/Trigger/node = SubResource("AnimationNodeBlend2_47wu6")
nodes/Trigger/position = Vector2(-360, 20)
node_connections = [&"Grip", 0, &"Trigger", &"Grip", 1, &"ClosedHand2", &"Trigger", 0, &"OpenHand", &"Trigger", 1, &"ClosedHand1", &"output", 0, &"Grip"]

[sub_resource type="QuadMesh" id="QuadMesh_oudfo"]
size = Vector2(0.5, 0.5)

[node name="XROrigin3D" type="XROrigin3D"]

[node name="XRToolsMovementFootstep" type="Node" parent="." groups=["movement_providers"]]
script = ExtResource("1_jatw7")
default_surface_audio_type = SubResource("Resource_jatw7")
metadata/_custom_type_script = ExtResource("1_jatw7")

[node name="PlayerSettings" type="AudioStreamPlayer3D" parent="XRToolsMovementFootstep"]
stream = ExtResource("3_efikj")
volume_db = -29.411

[node name="XRCamera3D" type="XRCamera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.967468, 0)
current = true

[node name="StartXR" parent="XRCamera3D" instance=ExtResource("1_3tkgg")]

[node name="FadeCollision" parent="XRCamera3D" instance=ExtResource("12_l6ohk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.967468, 0)
fade_color = Color(0.507621, 0.0241097, 0.105923, 1)

[node name="Fade" parent="XRCamera3D" instance=ExtResource("3_d6rpx")]

[node name="XRControllerLeft" type="XRController3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.29162, 0.721012, -0.659748)
tracker = &"left_hand"

[node name="XRToolsCollisionHand" parent="XRControllerLeft" node_paths=PackedStringArray("hand_skeleton") instance=ExtResource("2_l6ohk")]
hand_skeleton = NodePath("LeftPhysicsHand/Hand_Nails_L/Armature/Skeleton3D")

[node name="LeftPhysicsHand" parent="XRControllerLeft/XRToolsCollisionHand" instance=ExtResource("3_oudfo")]

[node name="AnimationTree" parent="XRControllerLeft/XRToolsCollisionHand/LeftPhysicsHand" index="1"]
tree_root = SubResource("AnimationNodeBlendTree_2n1s8")

[node name="HandLight" type="OmniLight3D" parent="XRControllerLeft/XRToolsCollisionHand"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0140342, -0.0433026, 0.0940291)
visible = false
light_color = Color(0.631373, 0.996078, 0.0745098, 1)
shadow_enabled = true
shadow_bias = 0.01

[node name="MeshInstance3D" type="MeshInstance3D" parent="XRControllerLeft/XRToolsCollisionHand/HandLight"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -0.0591484, 0, 0)
cast_shadow = 3
mesh = SubResource("QuadMesh_oudfo")

[node name="MovementDirect" parent="XRControllerLeft" instance=ExtResource("4_d6rpx")]
strafe = true

[node name="FunctionPickup" parent="XRControllerLeft" instance=ExtResource("5_r3kul")]

[node name="XRControllerRight" type="XRController3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.314656, 0.719788, -0.991062)
tracker = &"right_hand"

[node name="XRToolsCollisionHand" parent="XRControllerRight" instance=ExtResource("2_l6ohk")]

[node name="RightHand" parent="XRControllerRight/XRToolsCollisionHand" instance=ExtResource("6_jatw7")]

[node name="HandLight" type="OmniLight3D" parent="XRControllerRight/XRToolsCollisionHand"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0185846, -0.0433026, 0.0940291)
visible = false
light_color = Color(0.631373, 0.996078, 0.0745098, 1)
shadow_enabled = true
shadow_bias = 0.3
shadow_normal_bias = 6.492

[node name="MeshInstance3D" type="MeshInstance3D" parent="XRControllerRight/XRToolsCollisionHand/HandLight"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 0.0415959, 0, 0)
cast_shadow = 3
mesh = SubResource("QuadMesh_oudfo")

[node name="MovementTurn" parent="XRControllerRight" instance=ExtResource("7_rv870")]
turn_mode = 1

[node name="FunctionPickup" parent="XRControllerRight" instance=ExtResource("5_r3kul")]

[node name="MovementJump" parent="XRControllerRight" instance=ExtResource("8_efikj")]
jump_button_action = "by_button"

[node name="XRSimulator" parent="." instance=ExtResource("9_itxgx")]
disable_xr_in_editor = true

[node name="PlayerBody" parent="." instance=ExtResource("10_cgsek")]

[node name="XRAim3D" parent="." instance=ExtResource("11_0pi4m")]

[node name="MovementGravityZones" parent="." instance=ExtResource("17_rv870")]
enabled = false

[node name="MovementFlight" parent="." instance=ExtResource("18_itxgx")]
enabled = false

[node name="MovementDesktopFlight" parent="." instance=ExtResource("19_cgsek")]
exclusive = false

[node name="TeleportToTreesound" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("20_cgsek")
volume_db = 7.059
pitch_scale = 2.0

[editable path="XRControllerLeft/XRToolsCollisionHand/LeftPhysicsHand"]
[editable path="XRControllerLeft/XRToolsCollisionHand/LeftPhysicsHand/Hand_Nails_L"]
[editable path="XRAim3D"]
